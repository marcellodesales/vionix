####
#### Author: Marcello DeSales (@mdesales)
####
#### This is a composable github Actions Workflow that reuses CodeQL workflow
####
name: vionix-github-actions-codeql

on:
  schedule:
    - cron: '37 16 * * 5'

  # Please specify an on.push hook to analyze and see code scanning alerts from the default branch on the Security tab.
  push:
    branches: [ main ]
    paths:
      - '.github/**'

  pull_request:
    types:
      - opened
      - edited
      - reopened
      - synchronize
      - converted_to_draft

    paths:
      - '.github/**'
     
    branches:
      - develop
      - feature/**
      - bugfix/**
      - master
      - main

jobs:
  ghaction-codeql:
    name: üêô action
    secrets: inherit
    uses: seceng-devsecops-platform/devsecops-platform-github-workflows/.github/workflows/github-ghas-codeql-actions-workflow.yaml@main
    with:
      github-action-runner: vionix
